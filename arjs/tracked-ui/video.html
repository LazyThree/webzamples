<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<!-- we import arjs version without NFT but with marker + location based support -->
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
<script src="https://gftruj.github.io/webzamples/arjs/tracked-ui/tracked-ui.js"></script>
<script>
    AFRAME.registerComponent("ui-logic", {
        init: function () {
            const play = document.querySelector("#play")
            const pause = document.querySelector("#pause")

            const vid = document.querySelector("#vid")

            play.addEventListener("click", e => {
                vid.play();
            })
            pause.addEventListener("click", evt => {
                vid.pause();
            })
        }
    })
</script>

<body style="margin : 0px; overflow: hidden;">
    <!-- info + CREDITS -->
    <div style='position: fixed; width:100%; text-align: center; z-index: 1; left: 0;
        right: 0; background-color: rgba(75, 2, 59, 0.363);'>
        <h3>video stay-on-screen</h3>
        works with a hiro marker<br>
        Video (c) copyright 2008, Blender Foundation / www.bigbuckbunny.org
        <br>
        Source code <a href="https://github.com/gftruj/webzamples/tree/master/arjs/tracked-ui/video.html">here</a>
    </div>


    <!-- UI -->
    <div id="UI" style="position: fixed; z-index: 1000; display: none;">
        <div style="margin-left: -48px;border:1px solid black; background-color: rgba(75, 2, 59, 0.363);">
            <button id="play">PLAY</button>
            <button id="pause">PAUSE</button>
        </div>
    </div>


    <!-- SCENE -->
    <a-scene embedded arjs renderer="logarithmicDepthBuffer: true" vr-mode-ui="enabled: false">
        <a-assets>
            <video id="vid" src="../assets/video/trailer_400p.ogg" loop="true" crossorigin>
        </a-assets>

        <a-marker smooth="true" preset="hiro" ui-logic tracked-ui="element: #UI; offset: 0 200">
            <a-box material="src: #vid; opacity: 0.5; transparent: true"></a-box>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</body>

</html>