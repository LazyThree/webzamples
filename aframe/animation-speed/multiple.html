<html>

<head>
    <title>Animation speed</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="animation-speed.js"></script>
    <script src="https://kit.fontawesome.com/c9500776a0.js" crossorigin="anonymous"></script>
    <script src="misc/codeBtn.js"></script>

    <script>
        // attach a setAttribute to each button
        AFRAME.registerComponent("foo", {
            init: function () {
                const el = this.el;
                const movBtns = document.querySelectorAll(".movbtn");
                movBtns.forEach(node => {
                    node.addEventListener("click", function () {
                        let speed = node.innerHTML.trim()[0];
                        el.setAttribute("animation-speed__position", "multiplier", speed)
                    })
                })

                const rotBtns = document.querySelectorAll(".rotbtn");
                rotBtns.forEach(node => {
                    node.addEventListener("click", function () {
                        let speed = node.innerHTML.trim()[0];
                        el.setAttribute("animation-speed__rotation", "multiplier", speed)
                    })
                })
            }
        })
    </script>
</head>
<style>
    #ui {
        position: fixed;
        top: 5%;
        left: 5%;
        z-index: 2;
    }
</style>

<body>
    <div id="ui">
        <div>
            Movement Speed <button class="movbtn">1x</button> <button class="movbtn">2x</button><button
                class="movbtn">5x</button>
        </div>
        <div>
            Rotation Speed <button class="rotbtn">1x</button> <button class="rotbtn">2x</button><button
                class="rotbtn">5x</button>
        </div>
    </div>
    <a-scene>
        <a-sphere position="0 1 -3" radius="0.5" color="red" foo
            animation__position="property: position; from: -1 1 -3; to: 1 1 -3; dir: alternate; dur: 2000;loop: true"
            animation__rotation="property: rotation; to: 0 360 0; dur: 2000; easing: linear;loop: true">
            <a-dodecahedron position="0 1 0" radius="0.25" color="green"></a-dodecahedron>
        </a-sphere>
        <a-camera position="0 1.6 0" look-controls="enabled: false"></a-camera>
    </a-scene>
    <script>
        // show-code button
        setCodeBtnUrl("aframe/animation-speeder/multiple.html");
    </script>
</body>

</html>